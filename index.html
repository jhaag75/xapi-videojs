<!DOCTYPE html>
<html lang="en">
<head>

    <title>Video.js + xAPI Video Profile Example - Ocean Life mp4, webm, ogv</title>
    <link href="video-js-6.1.0/video-js.css" rel="stylesheet">
    <script src="video-js-6.1.0/ie8/videojs-ie8.min.js"></script>
    <script src="video-js-6.1.0/video.js"></script>
    <script type="text/javascript" src="xAPIWrapper-1.10.4/src/xapiwrapper.js"></script>
    <script type="text/javascript" src="xAPIWrapper-1.10.4/lib/cryptojs_v3.1.2.js"></script>
    <script type="text/javascript" src="xapi-videojs.js"></script>

</head>

<body prefix="dcterms: http://purl.org/dc/terms/">

  <div id="vidtitle" property="dcterms:title" content="Ocean Life"></div>
  <div id="viddesc" property="dcterms:description" content="A short video clip of ocean lifeforms, used by videojs.com as part of their demo."></div>
  
  <video  id="vid1" class="video-js vjs-default-skin" controls preload="auto" width="640" height="264" poster="http://vjs.zencdn.net/v/oceans.png" data-setup="{}">
    <source src="http://vjs.zencdn.net/v/oceans.mp4" type="video/mp4">
    <source src="http://vjs.zencdn.net/v/oceans.webm" type="video/webm">
    <source src="http://vjs.zencdn.net/v/oceans.ogv" type="video/ogg">
    <track kind="captions" src="captions/example-captions.vtt" srclang="en" label="English"></track>
    <!-- Tracks need an ending tag thanks to IE9 -->
    <track kind="subtitles" src="captions/example-captions.vtt" srclang="en" label="English"></track>
    <!-- Tracks need an ending tag thanks to IE9 -->
    <p class="vjs-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p>
  </video>


<script type="text/javascript">
    var activityTitle = "Ocean Life";
    var activityDesc = "Video of ocean life.";
    
    // ADL LRS Configuration - Basic Auth for demo purposes  
    if(ADL.XAPIWrapper.lrs.auth == undefined) {
        var conf = {
           "endpoint" : "https://lrs.adlnet.gov/xAPI/",
           "auth" : "Basic " + toBase64('video-profile:getout'),
           "actor" : '{"mbox": "mailto:someuser@example.com","name": "Video User","objectType": "Agent"}'
        };
        ADL.XAPIWrapper.changeConfig(conf);       
    }
    // put into variables - title and description from the metadata DIV above the video element 
    var activityTitle = document.getElementById('vidtitle').getAttribute('content');
    var activityDesc = document.getElementById('viddesc').getAttribute('content');  
    
    ADL.XAPIVideoJS("vid1");
    
</script>

</body>

</html>
